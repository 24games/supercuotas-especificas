<!DOCTYPE html>
<!-- Deploy trigger: 2025-01-02 15:30:00 URGENT -->
<html lang="es-CL">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>24Games - Supercuota Haaland vs Mbapp√©</title>
    
    <!-- Meta Pixel Code (Essencial para marcar o PageView) -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1108404008025075');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1108404008025075&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone para JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: #050505;
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }
        
        /* Background Image */
        .background-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        /* Logo Centralizada no Topo */
        .logo-container {
            position: absolute;
            top: 10px;
            left: 0;
            right: 0;
            z-index: 99999;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: none;
        }
        
        @media (min-width: 768px) {
            .logo-container {
                top: 15px;
            }
        }
        
        .logo-floating {
            max-width: 100px;
            width: auto;
            height: auto;
            display: block;
            margin: 0 auto;
            animation: float 3s ease-in-out infinite;
        }
        
        @media (min-width: 768px) {
            .logo-container {
                top: 15px;
            }
            .logo-floating {
                max-width: 140px;
            }
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        .glassmorphism {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #00FF00 0%, #39FF14 50%, #00FF88 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .highlight-word {
            background: linear-gradient(135deg, #00FF00 0%, #39FF14 50%, #00FF88 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            text-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
            position: relative;
            display: inline-block;
        }
        
        .highlight-word::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #00FF00, #39FF14, #00FF88);
            border-radius: 2px;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.8);
        }
        
        .impact-text {
            text-shadow: 0 0 30px rgba(0, 255, 0, 0.6),
                         0 0 60px rgba(0, 255, 0, 0.4),
                         0 0 90px rgba(0, 255, 0, 0.2);
            letter-spacing: 0.1em;
        }
        
        .subtitle-impact {
            font-size: 1.5rem;
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0, 255, 0, 0.4);
            letter-spacing: 0.05em;
        }
        
        @media (min-width: 768px) {
            .subtitle-impact {
                font-size: 2rem;
            }
        }
        
        .check-pulse {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% {
                opacity: 1;
                filter: drop-shadow(0 0 5px #00FF00);
            }
            50% {
                opacity: 0.8;
                filter: drop-shadow(0 0 15px #00FF00);
            }
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #00FF00 0%, #39FF14 100%);
            color: #000000;
            font-weight: 700;
            padding: 18px 40px;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
            border: none;
            cursor: pointer;
            font-size: 18px;
            width: 100%;
            max-width: 400px;
        }
        
        .btn-primary:hover {
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.6);
            transform: translateY(-2px);
            background: linear-gradient(135deg, #39FF14 0%, #00FF88 100%);
        }
        
        .player-card {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .player-card:hover {
            border-color: #00FF00;
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.4);
            transform: translateY(-5px);
        }
        
        .shimmer {
            position: relative;
            overflow: hidden;
        }
        
        .shimmer::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% {
                left: -100%;
            }
            100% {
                left: 100%;
            }
        }
        
        .btn-cta {
            background: linear-gradient(135deg, #00FF00 0%, #39FF14 100%);
            color: #000000;
            font-weight: 700;
            padding: 20px 50px;
            border-radius: 12px;
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.5);
            border: none;
            cursor: pointer;
            font-size: 20px;
            position: relative;
            overflow: hidden;
            animation: pulse-button 2s ease-in-out infinite;
            text-decoration: none;
            display: inline-block;
        }
        
        @keyframes pulse-button {
            0%, 100% {
                box-shadow: 0 0 30px rgba(0, 255, 0, 0.5);
            }
            50% {
                box-shadow: 0 0 40px rgba(0, 255, 0, 0.8);
            }
        }
        
        .stat-card {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(0, 255, 0, 0.3);
            box-shadow: 0 8px 32px 0 rgba(0, 255, 0, 0.2);
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            font-size: 18px;
        }
        
        .stat-icon {
            color: #00FF00;
            font-size: 24px;
        }
        
        .headline-main {
            font-family: 'Bebas Neue', sans-serif;
            font-weight: 400;
            line-height: 1.2;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        
        .player-name {
            font-family: 'Bebas Neue', sans-serif;
            font-weight: 400;
            font-size: clamp(2rem, 5vw, 3.5rem);
            color: #00FF00;
        }
        
        .step-container {
            min-height: 100vh;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 20px;
            padding-top: 60px;
            position: relative;
            z-index: 1;
        }
        
        @media (min-width: 768px) {
            .step-container {
                align-items: center;
                padding-top: 100px;
            }
        }
        
        /* Anima√ß√µes de Transi√ß√£o */
        .step-enter {
            opacity: 0;
            transform: translateX(100px);
        }
        
        .step-enter-active {
            opacity: 1;
            transform: translateX(0);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .step-exit {
            opacity: 1;
            transform: translateX(0);
        }
        
        .step-exit-active {
            opacity: 0;
            transform: translateX(-100px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .fade-in-up {
            animation: fadeInUp 0.6s ease forwards;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <!-- Background Image -->
    <div class="background-image" style="background-image: url('images/background lp quiz interativo.webp');"></div>
    
    <!-- Logo Centralizada no Topo -->
    <div class="logo-container">
        <img src="images/supercuota.png" alt="24Games Logo" class="logo-floating" />
    </div>
    
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { render } = ReactDOM;
        
        // Fun√ß√£o para obter o pathname da URL e gerar links din√¢micos
        const getDynamicLinks = () => {
            // Obt√©m o pathname da URL (ex: /cr1, /cr2, etc.)
            const pathname = window.location.pathname;
            // Remove a barra inicial e pega o par√¢metro
            const urlParam = pathname.replace(/^\//, '').replace(/\/$/, '');
            
            // Links base (sem affiliateId ainda)
            let baseLinkMbappe = 'https://go.aff.24gamespartners.com/3k6a9qa0?utm_campaign=mbappe_sodd';
            let baseLinkHaaland = 'https://go.aff.24gamespartners.com/3k6a9qa0?utm_campaign=haaland_sodd';
            
            // Se houver um par√¢metro na URL (ex: cr1, cr2, etc.), adiciona ao utm_campaign
            if (urlParam && urlParam !== '' && urlParam !== 'index.html') {
                baseLinkMbappe = `${baseLinkMbappe}_${urlParam}`;
                baseLinkHaaland = `${baseLinkHaaland}_${urlParam}`;
            }
            
            // GARANTE que o affiliateId seja sempre 503785 (adiciona ou substitui se j√° existir)
            const affiliateId = 'affiliateId=503785';
            
            // Adiciona o affiliateId ao final de cada link
            if (baseLinkMbappe.includes('affiliateId=')) {
                baseLinkMbappe = baseLinkMbappe.replace(/affiliateId=[^&]*/, affiliateId);
            } else {
                baseLinkMbappe = `${baseLinkMbappe}&${affiliateId}`;
            }
            
            if (baseLinkHaaland.includes('affiliateId=')) {
                baseLinkHaaland = baseLinkHaaland.replace(/affiliateId=[^&]*/, affiliateId);
            } else {
                baseLinkHaaland = `${baseLinkHaaland}&${affiliateId}`;
            }
            
            // Retorna os links com affiliateId garantido
            return {
                mbappe: baseLinkMbappe,
                haaland: baseLinkHaaland
            };
        };
        
        // Gera os links din√¢micos
        const dynamicLinks = getDynamicLinks();
        
        // Dados dos Jogadores
        const playersData = {
            haaland: {
                name: 'ERLING HAALAND',
                image: 'images/haaland.webp',
                stats: [
                    { icon: '‚ö°', label: 'Participaci√≥n Ofensiva', value: '92%' },
                    { icon: '‚ö°', label: 'Tiros al Arco', value: '4.5/partido' },
                    { icon: '‚ö°', label: 'Goles Totales', value: '28' }
                ],
                link: dynamicLinks.haaland
            },
            mbappe: {
                name: 'KYLIAN MBAPP√â',
                image: 'images/mbappe.webp',
                stats: [
                    { icon: 'üî•', label: 'Participaci√≥n Ofensiva', value: '95%' },
                    { icon: 'üî•', label: 'Tiros al Arco', value: '3.8/partido' },
                    { icon: 'üî•', label: 'Goles Totales', value: '26' }
                ],
                link: dynamicLinks.mbappe
            }
        };
        
        // Componente de Transi√ß√£o
        const TransitionStep = ({ children, show }) => {
            const [display, setDisplay] = useState(show);
            const [animating, setAnimating] = useState(false);
            
            useEffect(() => {
                if (show) {
                    setDisplay(true);
                    setTimeout(() => setAnimating(true), 10);
                } else {
                    setAnimating(false);
                    setTimeout(() => setDisplay(false), 500);
                }
            }, [show]);
            
            if (!display) return null;
            
            return (
                <div className={animating ? 'step-enter-active' : 'step-enter'}>
                    {children}
                </div>
            );
        };
        
        // Etapa 0: Hero Section
        const Step0 = ({ onNext }) => {
            return (
                <div className="step-container">
                    <div className="text-center max-w-4xl mx-auto" style={{ marginTop: '20px' }}>
                        <h1 className="headline-main text-4xl md:text-7xl mb-4 md:mb-6 impact-text">
                            <span className="highlight-word">Acierta</span> qui√©n <span className="highlight-word">marcar√° primero</span>
                        </h1>
                        <div className="flex items-center justify-center gap-3 mb-6 md:mb-8 flex-wrap">
                            <p className="subtitle-impact text-white">
                                Y asegura tu <span className="highlight-word">Green</span>
                            </p>
                            <span className="check-pulse text-2xl md:text-3xl">‚úÖ</span>
                        </div>
                        <button
                            onClick={onNext}
                            className="btn-primary mx-auto"
                        >
                            ELEGIR JUGADOR
                        </button>
                    </div>
                </div>
            );
        };
        
        // Etapa 1: Sele√ß√£o do Jogador
        const Step1 = ({ onSelect }) => {
            const [hovered, setHovered] = useState(null);
            
            return (
                <div className="step-container">
                    <div className="text-center max-w-6xl mx-auto w-full">
                        <h2 className="headline-main text-3xl md:text-5xl mb-4 impact-text">
                            ¬øCu√°l de los dos <span className="highlight-word">m√°ximos goleadores</span> <span className="highlight-word">anotar√° primero</span>?
                        </h2>
                        <p className="subtitle-impact text-white mb-12">
                            Elige entre <span className="highlight-word">Mbapp√©</span> o <span className="highlight-word">Haaland</span>
                        </p>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                            <div
                                onMouseEnter={() => setHovered('mbappe')}
                                onMouseLeave={() => setHovered(null)}
                                onClick={() => onSelect('mbappe')}
                                className={`player-card rounded-2xl p-8 ${hovered === 'mbappe' ? 'scale-105' : ''}`}
                                style={{ transition: 'all 0.3s ease' }}
                            >
                                <div className="mb-6">
                                    <img
                                        src={playersData.mbappe.image}
                                        alt={playersData.mbappe.name}
                                        className="w-32 h-32 md:w-40 md:h-40 rounded-full object-cover mx-auto"
                                        style={{ border: '3px solid #00FF00' }}
                                        onError={(e) => {
                                            e.target.src = 'https://via.placeholder.com/160x160/00FF00/000000?text=MBAPPE';
                                        }}
                                    />
                                </div>
                                <h3 className="player-name mb-4">
                                    {playersData.mbappe.name}
                                </h3>
                            </div>
                            
                            <div
                                onMouseEnter={() => setHovered('haaland')}
                                onMouseLeave={() => setHovered(null)}
                                onClick={() => onSelect('haaland')}
                                className={`player-card rounded-2xl p-8 ${hovered === 'haaland' ? 'scale-105' : ''}`}
                                style={{ transition: 'all 0.3s ease' }}
                            >
                                <div className="mb-6">
                                    <img
                                        src={playersData.haaland.image}
                                        alt={playersData.haaland.name}
                                        className="w-32 h-32 md:w-40 md:h-40 rounded-full object-cover mx-auto"
                                        style={{ border: '3px solid #00FF00', objectPosition: 'center 40%' }}
                                        onError={(e) => {
                                            e.target.src = 'https://via.placeholder.com/160x160/00FF00/000000?text=HAALAND';
                                        }}
                                    />
                                </div>
                                <h3 className="player-name mb-4">
                                    {playersData.haaland.name}
                                </h3>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        
        // Etapa 2: Resultado e Convers√£o
        const Step2 = ({ selectedPlayer }) => {
            const [mounted, setMounted] = useState(false);
            const player = playersData[selectedPlayer];
            
            useEffect(() => {
                setMounted(true);
            }, []);
            
            return (
                <div className="step-container">
                    <div className="text-center max-w-4xl mx-auto w-full">
                        <h2 className={`headline-main text-4xl md:text-6xl mb-6 impact-text ${mounted ? 'fade-in-up' : ''}`}>
                            ¬°<span className="highlight-word">Excelente</span> <span className="highlight-word">elecci√≥n</span>!
                        </h2>
                        <p className={`subtitle-impact text-white mb-12 ${mounted ? 'fade-in-up' : ''}`} style={{ animationDelay: '0.1s' }}>
                            Aqu√≠ est√°n las <span className="highlight-word">estad√≠sticas</span> de tu jugador
                        </p>
                        
                        <div className={`stat-card rounded-2xl p-8 mb-10 ${mounted ? 'fade-in-up' : ''}`} style={{ animationDelay: '0.2s' }}>
                            <div className="mb-6">
                                <img
                                    src={player.image}
                                    alt={player.name}
                                    className="w-32 h-32 md:w-40 md:h-40 rounded-full object-cover mx-auto"
                                    style={selectedPlayer === 'haaland' ? { border: '3px solid #00FF00', objectPosition: 'center 40%' } : { border: '3px solid #00FF00' }}
                                    onError={(e) => {
                                        e.target.src = selectedPlayer === 'haaland' 
                                            ? 'https://via.placeholder.com/160x160/00FF00/000000?text=HAALAND'
                                            : 'https://via.placeholder.com/160x160/00FF00/000000?text=MBAPPE';
                                    }}
                                />
                            </div>
                            <h3 className="player-name mb-8">{player.name}</h3>
                            
                            <div className="max-w-md mx-auto text-left">
                                {player.stats.map((stat, index) => (
                                    <div
                                        key={index}
                                        className={`stat-item ${mounted ? 'fade-in-up' : ''}`}
                                        style={{ animationDelay: `${0.3 + index * 0.1}s` }}
                                    >
                                        <span className="stat-icon">{stat.icon}</span>
                                        <span>
                                            {stat.label}: <strong className="text-green-400">{stat.value}</strong>
                                        </span>
                                    </div>
                                ))}
                            </div>
                        </div>
                        
                        <a
                            href={player.link}
                            className={`btn-cta shimmer ${mounted ? 'fade-in-up' : ''}`}
                            style={{ animationDelay: '0.6s' }}
                        >
                            ¬°RECLAMAR MI SUPERCUOTA!
                        </a>
                    </div>
                </div>
            );
        };
        
        // Componente Principal
        const App = () => {
            const [currentStep, setCurrentStep] = useState(0);
            const [selectedPlayer, setSelectedPlayer] = useState(null);
            const [exiting, setExiting] = useState(false);
            
            const handleNext = () => {
                setExiting(true);
                setTimeout(() => {
                    setCurrentStep(1);
                    setExiting(false);
                }, 500);
            };
            
            const handleSelectPlayer = (player) => {
                setExiting(true);
                setTimeout(() => {
                    setSelectedPlayer(player);
                    setCurrentStep(2);
                    setExiting(false);
                }, 500);
            };
            
            return (
                <div className="relative min-h-screen" style={{ zIndex: 1 }}>
                    <TransitionStep show={currentStep === 0 && !exiting}>
                        <Step0 onNext={handleNext} />
                    </TransitionStep>
                    <TransitionStep show={currentStep === 1 && !exiting}>
                        <Step1 onSelect={handleSelectPlayer} />
                    </TransitionStep>
                    <TransitionStep show={currentStep === 2 && !exiting}>
                        <Step2 selectedPlayer={selectedPlayer} />
                    </TransitionStep>
                </div>
            );
        };
        
        // Renderizar App
        render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
